<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>F√ºr meine Jasmin ‚ù§Ô∏è</title>

<style>
/* --- DESIGN & LAYOUT --- */
body {
  margin: 0;
  background: radial-gradient(circle, #ff5b87 0%, #ff3f7f 100%);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  overflow-x: hidden;
}

/* --- INTRO SCREEN (STARTKNOPF) --- */
#intro-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle, #ff5b87 0%, #ff3f7f 100%);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  transition: opacity 1s ease;
}

.start-btn {
  background: white;
  color: #ff3f7f;
  border: none;
  padding: 20px 40px;
  font-size: 24px;
  border-radius: 50px;
  cursor: pointer;
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
  animation: pulseBtn 1.5s infinite;
  font-family: inherit;
  font-weight: bold;
}

@keyframes pulseBtn {
  0% { transform: scale(1); box-shadow: 0 0 20px rgba(255, 255, 255, 0.5); }
  50% { transform: scale(1.05); box-shadow: 0 0 40px rgba(255, 255, 255, 0.8); }
  100% { transform: scale(1); box-shadow: 0 0 20px rgba(255, 255, 255, 0.5); }
}

/* --- HAUPTKARTE --- */
.card {
  background: rgba(255, 255, 255, 0.96);
  padding: 30px 25px;
  border-radius: 30px;
  width: 90%;
  max-width: 450px;
  text-align: center;
  box-shadow: 0 15px 35px rgba(0,0,0,0.2);
  margin: 20px 0;
  position: relative;
  z-index: 10;
  opacity: 0; 
  transform: translateY(20px);
  transition: opacity 1.5s ease, transform 1.5s ease;
}

.card.visible {
  opacity: 1;
  transform: translateY(0);
}

h2 {
  color: #d6336c;
  margin-bottom: 5px;
  font-size: 26px;
  min-height: 32px;
}

.text {
  color: #444;
  line-height: 1.6;
  font-size: 16px;
  min-height: 60px;
}

/* --- HERZ ANIMATION --- */
.heart-container {
  height: 200px;
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 15px 0;
}

.heart {
  position: relative;
  width: 220px;
  height: 200px;
}

.heart.beating {
  animation: pulseHeart 1.2s ease-in-out infinite;
}

@keyframes pulseHeart {
  0% { transform: scale(1); }
  15% { transform: scale(1.12); }
  30% { transform: scale(1); }
  45% { transform: scale(1.05); }
  60% { transform: scale(1); }
}

.emoji-pixel {
  position: absolute;
  font-size: 12px;
  user-select: none;
  opacity: 0;
  transform: scale(0);
}

@keyframes pixelPop {
  to { opacity: 1; transform: scale(1) rotate(var(--rot)); }
}

/* --- UNTERER BEREICH (COUNTER & BUTTON) --- */
#bottom-area {
  opacity: 0;
  transition: opacity 2s ease;
}

#counter {
  font-weight: bold;
  color: #ff3f7f;
  margin: 15px 0 25px 0;
  font-size: 15px;
}

.love-btn {
  padding: 12px 30px;
  border: none;
  border-radius: 50px;
  background: linear-gradient(45deg, #ff3f7f, #ff7eb3);
  color: white;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 5px 15px rgba(255, 63, 127, 0.4);
  transition: transform 0.2s;
  margin-bottom: 10px;
}

.love-btn:active {
  transform: scale(0.95);
}

/* --- BRIEF INHALT --- */
#letter-content {
  display: none;
  margin-top: 25px;
  padding-top: 20px;
  border-top: 2px dashed #ffabcd;
  text-align: left;
  animation: fadeIn 1s;
}

#letter-content p {
  margin-bottom: 15px;
  font-size: 15px;
}

.signature {
  margin-top: 30px;
  margin-bottom: 20px;
  font-weight: bold;
  text-align: right;
  color: #ff1f6a;
}

.ps-text {
  font-size: 13px;
  color: #777;
  font-style: italic;
  border-top: 1px solid #eee;
  padding-top: 15px;
  margin-top: 10px;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes floatUp {
  0% { transform: translateY(0) rotate(0deg); opacity: 0.6; }
  100% { transform: translateY(-110vh) rotate(360deg); opacity: 0; }
}
</style>
</head>

<body>

<div id="intro-screen">
  <button class="start-btn" onclick="startExperience()">F√ºr Jasmin ‚ù§Ô∏è<br><span style="font-size:14px; font-weight:normal;">(Hier klicken)</span></button>
</div>

<div class="card" id="main-card">
  <h2 id="title-text"></h2>
  <p class="text" id="intro-text"></p>

  <div class="heart-container">
    <div class="heart" id="heart"></div>
  </div>

  <div id="bottom-area">
    <p id="counter">Berechne Zeit...</p>
    <button class="love-btn" onclick="toggleLetter()">Brief √∂ffnen üíå</button>
  </div>

  <div id="letter-content" class="text">
    
    <p><strong>Liebste Jasmin,</strong></p>
    
    <p>
      jeder Tag mit dir ist f√ºr mich ein Gewinn. 
      Du schaffst es immer, dass ich mich wohlf√ºhle, ganz egal, 
      was um uns herum passiert.
    </p>
    
    <p>
      Das letzte Jahr war f√ºr uns beide eine echte Reise mit Umwegen. Es gab H√∂hen und Tiefen 
      und ja ‚Ä¶ <em>‚ÄûMistakes were made‚Äú</em> (COD l√§sst gr√º√üen). Scherz beiseite, genau diese Zeit 
      hat uns erst gezeigt, wie sehr wir zusammenpassen. Dass wir uns wiedergefunden haben, 
      macht uns heute nur noch st√§rker.
    </p>

    <p>
      Ich liebe unsere gemeinsamen Erinnerungen, ob gro√üe Highlights 
      wie Berlin, Comic Con oder einfach unsere Spieleabende und das gemeinsame Essen gehen. 
      Gerade diese kleinen Momente bedeuten mir so viel. Und ich freue mich auf all das, was noch kommt: 
      Pitbull, London, Kinoabende und vor allem die Zeit mit dir.
    </p>

    <p>
      Bei dir habe ich das Gef√ºhl, wirklich Zuhause zu sein. 
      Du bist mein Ruhepol, wenn die Welt mal wieder stressig ist.
    </p>

    <p>
      Und ja, ich bin nicht perfekt: Verzeih mir meine kleinen Rage-Anf√§lle beim Autofahren oder beim Gamen‚Ä¶ 
      das geh√∂rt wohl leider zu mir. Aber ich gebe jeden Tag mein Bestes, der Mann zu sein, den du verdienst. 
      Und meine Liebe zu dir ist tausendmal gr√∂√üer als jeder Tilt-Moment.
    </p>

    <p>
      Danke, dass du mich so nimmst, wie ich bin und mich jeden Tag zum Lachen bringst. 
      Ich bin unfassbar froh, dass es dich gibt.
    </p>

    <div class="signature">
      Alles Liebe zum Valentinstag ‚ù§Ô∏è<br>
      Dein Lorenz
    </div>

    <div class="ps-text">
        PS: Und nat√ºrlich bekommst du den Brief auch in Papierform! üíå
    </div>
  </div>
</div>

<script>
// ================= KONFIGURATION =================

// Euer Startdatum: 18.08.2021
// (Javascript z√§hlt Monate ab 0: August ist der 7. Index)
const startDate = new Date(2021, 7, 18); 

// =================================================

function startExperience() {
  const intro = document.getElementById('intro-screen');
  intro.style.opacity = '0';
  setTimeout(() => intro.remove(), 1000);

  const card = document.getElementById('main-card');
  card.classList.add('visible');

  setTimeout(() => {
    typeWriter("title-text", "F√ºr meine Jasmin ‚ù§Ô∏è", 100, () => {
        typeWriter("intro-text", "Mein sicherster Ort ist an deiner Seite.\nMit dir f√ºhlt sich jeder Tag wie Zuhause an.", 50, () => {
            document.getElementById('bottom-area').style.opacity = '1';
        });
    });
    drawHeartAnimated();
  }, 800);

  setInterval(createFloatingHeart, 700);
}

function typeWriter(elementId, text, speed, callback) {
  let i = 0;
  const element = document.getElementById(elementId);
  element.innerHTML = "";
  function type() {
    if (i < text.length) {
      const char = text.charAt(i);
      element.innerHTML += (char === "\n") ? "<br>" : char;
      i++;
      setTimeout(type, speed);
    } else if (callback) {
      callback();
    }
  }
  type();
}

const heart = document.getElementById("heart");
const emojis = ["‚ù§Ô∏è", "üíñ", "üíï", "ü•∞", "üíó"];

function isInsideHeart(x, y) {
  x = (x - 110) / 80; 
  y = (100 - y) / 80;
  return Math.pow(x*x + y*y - 1, 3) - x*x*y*y*y <= 0;
}

function drawHeartAnimated() {
  let delay = 0;
  const fragment = document.createDocumentFragment();
  let pixels = [];
  for (let x = 0; x < 220; x += 11) { 
    for (let y = 0; y < 200; y += 11) {
      if (isInsideHeart(x, y)) pixels.push({x, y});
    }
  }
  pixels.sort(() => Math.random() - 0.5);

  pixels.forEach((pos) => {
    const e = document.createElement("div");
    e.className = "emoji-pixel";
    e.textContent = emojis[Math.floor(Math.random() * emojis.length)];
    e.style.left = pos.x + "px";
    e.style.top = pos.y + "px";
    const rot = Math.random() * 40 - 20; 
    e.style.setProperty('--rot', rot + 'deg');
    e.style.animation = `pixelPop 0.6s forwards cubic-bezier(0.175, 0.885, 0.32, 1.275)`;
    e.style.animationDelay = delay + "s";
    fragment.appendChild(e);
    delay += 0.015;
  });
  heart.appendChild(fragment);
  setTimeout(() => { heart.classList.add('beating'); }, (delay * 1000) + 500);
}

function updateCounter() {
  const now = new Date();
  const diff = now - startDate;
  const days = Math.floor(diff / (1000 * 60 * 60 * 24));
  document.getElementById("counter").innerHTML = 
    `Seit ${days} Tagen schl√§gt mein Herz nur f√ºr dich ‚ù§Ô∏è`;
}
updateCounter();

function toggleLetter() {
  const letter = document.getElementById("letter-content");
  const btn = document.querySelector(".love-btn");
  
  if (letter.style.display === "block") {
    letter.style.display = "none";
    btn.textContent = "Brief √∂ffnen üíå";
    document.querySelector('.card').scrollIntoView({ behavior: 'smooth' });
  } else {
    letter.style.display = "block";
    btn.textContent = "Schlie√üen ‚úñÔ∏è";
    setTimeout(() => {
        letter.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }, 100);
  }
}

function createFloatingHeart() {
  const h = document.createElement("div");
  h.textContent = ["üíó", "‚ù§Ô∏è", "üíû"][Math.floor(Math.random()*3)];
  h.style.position = "fixed";
  h.style.left = Math.random() * 100 + "vw";
  h.style.bottom = "-50px";
  h.style.fontSize = (Math.random() * 20 + 10) + "px";
  h.style.opacity = Math.random() * 0.5 + 0.3;
  h.style.animation = `floatUp ${Math.random() * 5 + 6}s linear`;
  h.style.zIndex = "1"; 
  document.body.appendChild(h);
  setTimeout(() => h.remove(), 11000);
}
</script>

</body>
</html>